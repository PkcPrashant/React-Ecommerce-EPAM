(this["webpackJsonpecommerce-assignment"]=this["webpackJsonpecommerce-assignment"]||[]).push([[1],{28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=(a(33),a(4)),u=function(){return{type:"FETCH_PRODUCTS_REQUEST"}},i=function(e){return{type:"FETCH_PRODUCTS_SUCCESS",payload:e}},s=function(e){return{type:"FETCH_PRODUCTS_FAILURE",payload:e}},d=function(){return{type:"FETCH_SELECTED_PRODUCT_REQUEST"}},m=function(e){return{type:"FETCH_SELECTED_PRODUCT_SUCCESS",payload:e}},E=function(e){return{type:"FETCH_SELECTED_PRODUCT_FAILURE",payload:e}},b=function(e){return{type:"FETCH_ORDERED_PRODUCT",payload:e}},p=a(6),g=function(e){var t=e.product;return r.a.createElement("div",{className:"card shadow p-3 my-3 mx-2 rounded col-md-2"},r.a.createElement("img",{className:"card-img-top img-rounded",src:"https://www.asme.org/getmedia/c2c8ea5a-b690-4ba7-92bb-34bd1432862b/book_guide_hero_books.png",alt:"product"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text"},t.categories.join(", ")),r.a.createElement("p",{className:"card-text"},t.authors.join(", ")),r.a.createElement(p.b,{to:"/details/".concat(t.isbn)},r.a.createElement("button",{className:"btn btn-info"},"Buy Now"))))},f=function(){var e=Object(l.c)((function(e){return e.products})),t=Object(l.b)();return console.log("PRODUCT LIST CALLED"),Object(n.useEffect)((function(){document.getElementById("header").innerHTML="E Commerce",!e.data.length&&t((console.log("ACTIOn"),function(e){e(u),a.e(0).then(a.bind(null,42)).then((function(t){return e(i(t.default))})).catch((function(t){return e(s(t))}))}))}),[e,t]),e&&e.loading?r.a.createElement("p",null,"Loading"):e.error?r.a.createElement("p",null,"Something went Wrong. ",e.error):r.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},e.data.map((function(e,t){return r.a.createElement(g,{product:e,key:t})})))},C=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(p.b,{className:"nav-link",to:"/",id:"header"},"E Commerce"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-5 ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/orders"},"My Orders")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/viewcart"},"Cart")))))},h=a(3),O=(a(39),a(27)),v=function(e){var t=e.product,a=Object(O.a)(e,["product"]);return console.log("PRODUCT INFO CALLED"),r.a.createElement("div",{className:"card bg-light p-2 m-4",style:{maxWidth:"60rem"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:"https://www.asme.org/getmedia/c2c8ea5a-b690-4ba7-92bb-34bd1432862b/book_guide_hero_books.png",className:"card-img",alt:"product"})),r.a.createElement("div",{className:"col-md-8 card-body pt-0"},r.a.createElement("h5",{className:"card-header pl-1"},t.title),r.a.createElement("p",{className:"card-text"},"Price: Rs ",t.pageCount)," ",r.a.createElement("p",{className:"card-text"},"Author: ",t.authors&&t.authors.join(", ")),r.a.createElement("p",{className:"card-text"},"Total Pages: ",t.pageCount),r.a.createElement("p",{className:"card-text"},"Category: ",t.categories&&t.categories.join(", ")),r.a.createElement("p",{className:"card-text"},"ISBN: ",t.isbn),a&&a.cart&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"card-text"},t.shortDescription),r.a.createElement("div",{className:"d-flex justify-content-between"},a.cart.find((function(e){return e.title===t.title}))?r.a.createElement(p.b,{to:"/viewcart"},r.a.createElement("button",{className:"btn btn-info"},"Go to Cart")):r.a.createElement("button",{className:"btn btn-info",onClick:function(){return a.handleCart()}},"Add to Cart"),r.a.createElement(p.b,{to:"/checkout"},r.a.createElement("button",{className:"btn btn-info",onClick:function(){return a.handleBuyProduct()}},"Buy Now")))))))},y=function(e){var t=e.match.params.id,c=Object(l.c)((function(e){return e.selectedProduct.data})),o=Object(l.c)((function(e){return e.cart.data})),u=Object(l.b)();Object(n.useEffect)((function(){var e;console.log("PRODUCT DETAILS EFFECT CALLED"),document.getElementById("header").innerHTML="E Commerce | Details",u((e=t,function(t){t(d),a.e(0).then(a.bind(null,42)).then((function(t){return t.default.find((function(t){return t.isbn===e}))})).then((function(e){t(m(e))})).catch((function(e){return t(E(e))}))}))}),[u,t]),console.log("PRODUCT DETAILS CALLED");return r.a.createElement(v,{product:c,cart:o,handleCart:function(){u(function(e){return{type:"ADD_PRODUCT_TO_CART",payload:e}}(c))},handleBuyProduct:function(){u(b([c]))}})},T=function(){var e=Object(l.c)((function(e){return e.cart.data})),t=Object(l.b)();console.log("CART CALLED"),Object(n.useEffect)((function(){document.getElementById("header").innerHTML="E Commerce | Cart"}),[]);return r.a.createElement("div",{className:"container"},e.length?r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(v,{key:t,product:e})})),r.a.createElement(p.b,{to:"/checkout"},r.a.createElement("button",{className:"btn btn-info mx-5 mb-3",onClick:function(){t(b(e))}},"Buy Now"))):r.a.createElement("p",{className:"mt-3"},"Your Cart is Empty"))},N=function(){var e=Object(l.c)((function(e){return e.orders.data}));return console.log("ORDERS CALLED",e),e.length?e.map((function(e,t){return r.a.createElement(v,{key:t,product:e})})):r.a.createElement("p",{className:"mt-3 ml-3"},"You haven't ordered anything yet.")},j=a(14),D=a(2),_=function(e){var t=Object(n.useState)({houseNo:"",landmark:"",city:"",state:"",pincode:0}),a=Object(j.a)(t,2),c=a[0],o=a[1];console.log("ADDRESS CALLED");var l=Object.values(c).some((function(e){return!e})),u=Object(n.useState)(!1),i=Object(j.a)(u,2),s=i[0],d=i[1];return r.a.createElement("div",{className:"container card col-md-3 my-3"},r.a.createElement("h5",{className:"card-title my-3"},"Provide the Billing Address"),s&&l&&r.a.createElement("span",{className:"alert alert-danger"},"Plaese Fill All Fields"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter House No",onChange:function(e){return o(Object(D.a)(Object(D.a)({},c),{},{houseNo:e.target.value}))}}),r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter Landmark",onChange:function(e){return o(Object(D.a)(Object(D.a)({},c),{},{landmark:e.target.value}))}}),r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter City",onChange:function(e){return o(Object(D.a)(Object(D.a)({},c),{},{city:e.target.value}))}}),r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter State",onChange:function(e){return o(Object(D.a)(Object(D.a)({},c),{},{state:e.target.value}))}}),r.a.createElement("input",{type:"number",className:"form-control mb-3",placeholder:"Enter Pincode",onChange:function(e){return o(Object(D.a)(Object(D.a)({},c),{},{pincode:e.target.value}))}}),r.a.createElement("button",{className:"btn btn-primary mb-3",onClick:function(){return d(!0),void(!l&&e.setIsAddressAdded(!0))}},"Deliver Here")))},R=function(){Object(n.useEffect)((function(){document.getElementById("header").innerHTML="E Commerce | Checkout"}),[]);var e=Object(l.c)((function(e){return e.orderedProduct.data})),t=Object(l.b)(),a=Object(n.useState)(!1),c=Object(j.a)(a,2),o=c[0],u=c[1];return console.log("CHECKOUT CALLED ",e),o&&(console.log("RUNN ",o),t({type:"FETCH_ORDERS",payload:e})),r.a.createElement("div",null,o?r.a.createElement("span",null,"Thank you for buying the product(s) with us."):r.a.createElement(_,{setIsAddressAdded:u}))};var S=function(){return r.a.createElement(p.a,null,r.a.createElement(C,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:f}),r.a.createElement(h.a,{path:"/details/:id",component:y}),r.a.createElement(h.a,{path:"/viewcart",component:T}),r.a.createElement(h.a,{path:"/checkout",component:R}),r.a.createElement(h.a,{path:"/orders",component:N})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(10),U=a(26),w=(a(40),{loading:!1,data:[],error:""}),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_REQUEST":return Object(D.a)(Object(D.a)({},e),{},{loading:!0});case"FETCH_PRODUCTS_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{loading:!1,data:t.payload});case"FETCH_PRODUCTS_FAILURE":return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:t.payload});default:return e}},P={loading:!1,data:[],error:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SELECTED_PRODUCT_REQUEST":return Object(D.a)(Object(D.a)({},e),{},{loading:!0});case"FETCH_SELECTED_PRODUCT_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{loading:!1,data:t.payload});case"FETCH_SELECTED_PRODUCT_FAILURE":return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:t.payload});default:return e}},F=a(15),H={data:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_TO_CART":return{data:[].concat(Object(F.a)(e.data),[t.payload])};case"CLEAR_CART":return{data:[]};default:return e}},I={data:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ORDERS":return{data:[].concat(Object(F.a)(e.data),Object(F.a)(t.payload))};default:return e}},M={data:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ORDERED_PRODUCT":return{data:t.payload};default:return e}},W=Object(L.c)({products:A,selectedProduct:k,cart:x,orders:B,orderedProduct:Q}),J=Object(L.d)(W,Object(L.a)(U.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:J},r.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,2,3]]]);
//# sourceMappingURL=main.345ebc4a.chunk.js.map