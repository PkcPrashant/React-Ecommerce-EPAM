(this["webpackJsonpecommerce-assignment"]=this["webpackJsonpecommerce-assignment"]||[]).push([[1],{29:function(e,t,a){e.exports=a(41)},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=(a(34),a(4)),u=function(){return{type:"FETCH_PRODUCTS_REQUEST"}},i=function(e){return{type:"FETCH_PRODUCTS_SUCCESS",payload:e}},d=function(e){return{type:"FETCH_PRODUCTS_FAILURE",payload:e}},m=function(){return{type:"FETCH_SELECTED_PRODUCT_REQUEST"}},s=function(e){return{type:"FETCH_SELECTED_PRODUCT_SUCCESS",payload:e}},E=function(e){return{type:"FETCH_SELECTED_PRODUCT_FAILURE",payload:e}},b=function(e){return{type:"FETCH_ORDERED_PRODUCT",payload:e}},p=a(6),f="".concat("/","details/:id"),g="".concat("/","viewcart"),h="".concat("/","orders"),C="".concat("/","checkout"),v=function(e){var t,a=e.product;return r.a.createElement("div",{className:"card shadow p-3 my-3 mx-2 rounded col-md-2"},r.a.createElement("img",{className:"card-img-top img-rounded",src:"https://www.asme.org/getmedia/c2c8ea5a-b690-4ba7-92bb-34bd1432862b/book_guide_hero_books.png",alt:"product"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a.title),r.a.createElement("p",{className:"card-text"},a.categories.join(", ")),r.a.createElement("p",{className:"card-text"},a.authors.join(", ")),r.a.createElement(p.b,{to:(t=a.isbn,"".concat("/","details/").concat(t))},r.a.createElement("button",{className:"btn btn-info"},"Buy Now"))))},O=function(){var e=Object(l.c)((function(e){return e.products})),t=Object(l.b)();return Object(n.useEffect)((function(){console.log("LIST CALLED"),document.getElementById("header").innerHTML="E Commerce",t((function(e){e(u),a.e(0).then(a.bind(null,42)).then((function(t){return e(i(t.default))})).catch((function(t){return e(d(t))}))}))}),[t]),e&&e.loading?r.a.createElement("p",null,"Loading"):e.error?r.a.createElement("p",null,"Something went Wrong. ",e.error):r.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},e.data.map((function(e,t){return r.a.createElement(v,{product:e,key:t})})))},y=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(p.b,{className:"nav-link",to:"/",id:"header"},"E Commerce"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-5 ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:h},"My Orders")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:g},"Cart")))))},N=a(3),j=(a(40),a(28)),T=function(e){var t=e.product,a=Object(j.a)(e,["product"]);return r.a.createElement("div",{className:"card bg-light p-2 m-4",style:{maxWidth:"60rem"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:"https://www.asme.org/getmedia/c2c8ea5a-b690-4ba7-92bb-34bd1432862b/book_guide_hero_books.png",className:"card-img",alt:"product"})),r.a.createElement("div",{className:"col-md-8 card-body pt-0"},r.a.createElement("h5",{className:"card-header pl-1"},t.title),r.a.createElement("p",{className:"card-text"},"Price: Rs ",t.pageCount)," ",r.a.createElement("p",{className:"card-text"},"Author: ",t.authors&&t.authors.join(", ")),r.a.createElement("p",{className:"card-text"},"Total Pages: ",t.pageCount),r.a.createElement("p",{className:"card-text"},"Category: ",t.categories&&t.categories.join(", ")),r.a.createElement("p",{className:"card-text"},"ISBN: ",t.isbn),a&&a.cart&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"card-text"},t.shortDescription),r.a.createElement("div",{className:"d-flex justify-content-between"},a.cart.find((function(e){return e.title===t.title}))?r.a.createElement(p.b,{to:g},r.a.createElement("button",{className:"btn btn-info"},"Go to Cart")):r.a.createElement("button",{className:"btn btn-info",onClick:function(){return a.handleCart()}},"Add to Cart"),r.a.createElement(p.b,{to:C},r.a.createElement("button",{className:"btn btn-info",onClick:function(){return a.handleBuyProduct()}},"Buy Now")))))))},_=function(e){var t=e.match.params.id,c=Object(l.c)((function(e){return e.selectedProduct.data})),o=Object(l.c)((function(e){return e.cart.data})),u=Object(l.b)();console.log("DETAILS"),Object(n.useEffect)((function(){var e;document.getElementById("header").innerHTML="E Commerce | Details",u((e=t,function(t){t(m),a.e(0).then(a.bind(null,42)).then((function(t){return t.default.find((function(t){return t.isbn===e}))})).then((function(e){t(s(e))})).catch((function(e){return t(E(e))}))}))}),[u,t]);return r.a.createElement(T,{product:c,cart:o,handleCart:function(){u(function(e){return{type:"ADD_PRODUCT_TO_CART",payload:e}}(c))},handleBuyProduct:function(){u(b([c]))}})},S=function(){var e=Object(l.c)((function(e){return e.cart.data})),t=Object(l.b)();Object(n.useEffect)((function(){document.getElementById("header").innerHTML="E Commerce | Cart"}),[]);return r.a.createElement("div",{className:"container"},e.length?r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(T,{key:t,product:e})})),r.a.createElement(p.b,{to:C},r.a.createElement("button",{className:"btn btn-info mx-5 mb-3",onClick:function(){t(b(e))}},"Buy Now"))):r.a.createElement("p",{className:"mt-3"},"Your Cart is Empty"))},D=function(){var e=Object(l.c)((function(e){return e.orders.data}));return e.length?e.map((function(e,t){return r.a.createElement(T,{key:t,product:e})})):r.a.createElement("p",{className:"mt-3 ml-3"},"You haven't ordered anything yet.")},R=a(14),w=a(2),U=function(e){var t=Object(n.useState)({houseNo:"",landmark:"",city:"",state:"",pincode:0}),a=Object(R.a)(t,2),c=a[0],o=a[1],l=Object.values(c).some((function(e){return!e})),u=Object(n.useState)(!1),i=Object(R.a)(u,2),d=i[0],m=i[1];return r.a.createElement("div",{className:"container card col-md-3 my-3"},r.a.createElement("h5",{className:"card-title my-3"},"Provide the Billing Address"),d&&l&&r.a.createElement("span",{className:"alert alert-danger"},"Plaese Fill All Fields"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter House No",onChange:function(e){return o(Object(w.a)(Object(w.a)({},c),{},{houseNo:e.target.value}))}}),r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter Landmark",onChange:function(e){return o(Object(w.a)(Object(w.a)({},c),{},{landmark:e.target.value}))}}),r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter City",onChange:function(e){return o(Object(w.a)(Object(w.a)({},c),{},{city:e.target.value}))}}),r.a.createElement("input",{type:"text",className:"form-control mb-3",placeholder:"Enter State",onChange:function(e){return o(Object(w.a)(Object(w.a)({},c),{},{state:e.target.value}))}}),r.a.createElement("input",{type:"number",className:"form-control mb-3",placeholder:"Enter Pincode",onChange:function(e){return o(Object(w.a)(Object(w.a)({},c),{},{pincode:e.target.value}))}}),r.a.createElement("button",{className:"btn btn-primary mb-3",onClick:function(){return m(!0),void(!l&&e.setIsAddressAdded(!0))}},"Deliver Here")))},P=function(){Object(n.useEffect)((function(){document.getElementById("header").innerHTML="E Commerce | Checkout"}),[]);var e=Object(l.c)((function(e){return e.orderedProduct.data})),t=Object(l.b)(),a=Object(n.useState)(!1),c=Object(R.a)(a,2),o=c[0],u=c[1];return o&&t({type:"FETCH_ORDERS",payload:e}),r.a.createElement("div",null,o?r.a.createElement("span",null,"Thank you for buying the product(s) with us."):r.a.createElement(U,{setIsAddressAdded:u}))};var k=function(){return console.log("WINDOW ",window.document.URL),r.a.createElement(p.a,null,r.a.createElement(y,null),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:O}),r.a.createElement(N.a,{path:f,component:_}),r.a.createElement(N.a,{path:g,component:S}),r.a.createElement(N.a,{path:C,component:P}),r.a.createElement(N.a,{path:h,component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(10),H=a(26),x=a(27),L=a.n(x),A={loading:!1,data:[],error:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_REQUEST":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"FETCH_PRODUCTS_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,data:t.payload});case"FETCH_PRODUCTS_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,error:t.payload});default:return e}},B={loading:!1,data:[],error:""},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SELECTED_PRODUCT_REQUEST":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"FETCH_SELECTED_PRODUCT_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,data:t.payload});case"FETCH_SELECTED_PRODUCT_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{loading:!1,error:t.payload});default:return e}},W=a(15),Q={data:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_TO_CART":return{data:[].concat(Object(W.a)(e.data),[t.payload])};case"CLEAR_CART":return{data:[]};default:return e}},Y={data:[]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ORDERS":return{data:[].concat(Object(W.a)(e.data),Object(W.a)(t.payload))};default:return e}},$={data:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ORDERED_PRODUCT":return{data:t.payload};default:return e}},z=Object(F.c)({products:I,selectedProduct:M,cart:J,orders:G,orderedProduct:q}),K=Object(F.d)(z,Object(F.a)(L.a,H.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:K},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,2,3]]]);
//# sourceMappingURL=main.822ba5d9.chunk.js.map